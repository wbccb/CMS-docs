# 数据库设计

## 功能设计
- 用户管理
- 角色管理
- 菜单管理


## Model概念
根据`model`去设计数据库表，一个`model`就是一个类，代表就是一个表

- 实体表: 基础数据，比如一个用户，一本书，一个物品，一篇文章
- 业务表：业务数据，比如文章点赞，就是一个业务，需要有文章id、用户id，关联两个实体表


## 数据库事务

举一个例子，一个文章可以点赞，显示点赞的数量，我们可以设计两个表
- 文章：实体表（文章id, 用户点赞的数量）
- 点赞：业务表（文章id, 用户id）

当用户点赞时，需要插入一条数据到点赞业务表中，同时要更新文章表的用户点赞的数量

> 这涉及到两条数据库操作，要是某一条数据操作失败了，是不是需要回滚？因为两个数据是息息相关的！

这就涉及到`数据库事务`的概念！要么同时成功，要么同时失败，保证数据一致性



## 软删除和硬删除

- 软删除：不会真正删除数据，会增加`delete_at`字段
- 硬删除：真正删除数据